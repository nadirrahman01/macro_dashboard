<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Cordoba Research Group – GME</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <link rel="stylesheet" href="assets/style.css" />

  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            cordobaGold: '#845F0F',
            cordobaSoft: '#FFF7F0'
          },
          fontFamily: {
            heading: ['"Times New Roman"', 'serif'],
            body: ['Helvetica', 'system-ui', 'sans-serif']
          },
          boxShadow: {
            subtle: '0 10px 30px rgba(0,0,0,0.04)'
          }
        }
      }
    }
  </script>
</head>

<body class="bg-[#FFFCF9] text-neutral-900 font-body min-h-screen flex flex-col">

  <div class="flex-1 flex flex-col lg:flex-row">

    <!-- SIDEBAR -->
    <aside class="w-full lg:w-72 border-b lg:border-b-0 lg:border-r border-neutral-200 bg-white/80 backdrop-blur px-5 py-3 flex flex-col gap-3">

      <div class="flex flex-col">
        <a href="https://cordobarg.com/" target="_blank" rel="noopener noreferrer" class="inline-block hover:opacity-90 transition">
          <img
            src="assets/Cordoba Capital Logo (500 x 200 px) (3).png"
            alt="Cordoba Capital"
            class="block w-full max-w-[130px] h-auto"
          />
        </a>

        <div class="mt-3 text-[11px] uppercase tracking-[0.25em] text-neutral-500">
          Global Macro Engine
        </div>

        <div class="mt-2 inline-flex items-center gap-2 text-[11px] text-neutral-500">
          <span class="inline-flex items-center gap-1 rounded-full border border-neutral-200 bg-cordobaSoft px-2 py-0.5">
            <span class="h-1.5 w-1.5 rounded-full bg-emerald-500"></span>
            Beta version
          </span>
        </div>
      </div>

      <!-- FIXED NAV (ALL LINKS, NO BROKEN BUTTONS) -->
      <nav class="text-sm text-neutral-700 space-y-1" id="cc-views-nav">
        <div class="text-[10px] uppercase tracking-[0.25em] text-neutral-500 mb-1">
          Views
        </div>

        <a href="#" data-view="snapshot"
           class="cc-view-link w-full flex items-center justify-between px-2.5 py-2 rounded-xl transition">
          <span class="flex items-center gap-2">
            <span class="h-1.5 w-1.5 rounded-full bg-cordobaGold"></span>
            Country snapshot
          </span>
          <span class="cc-live-pill text-[10px] uppercase text-neutral-500 hidden">Live</span>
        </a>

        <a href="#" data-view="growth"
           class="cc-view-link w-full flex items-center gap-2 px-2.5 py-2 rounded-xl transition">
          <span class="h-1.5 w-1.5 rounded-full bg-emerald-400"></span>
          Growth &amp; cycle
        </a>

        <a href="#" data-view="inflation"
           class="cc-view-link w-full flex items-center gap-2 px-2.5 py-2 rounded-xl transition">
          <span class="h-1.5 w-1.5 rounded-full bg-rose-400"></span>
          Inflation lens
        </a>

        <a href="#" data-view="liquidity"
           class="cc-view-link w-full flex items-center gap-2 px-2.5 py-2 rounded-xl transition">
          <span class="h-1.5 w-1.5 rounded-full bg-sky-400"></span>
          Liquidity &amp; money
        </a>

        <a href="#" data-view="external"
           class="cc-view-link w-full flex items-center gap-2 px-2.5 py-2 rounded-xl transition">
          <span class="h-1.5 w-1.5 rounded-full bg-amber-400"></span>
          External balance
        </a>
      </nav>

      <div class="mt-8 pt-4 border-t border-neutral-200">
        <p class="text-[11px] leading-relaxed text-neutral-500">
          This Global Macro Engine is a beta product and remains under active development.
          The data and outputs shown are for testing and exploratory purposes only and may be
          incomplete, delayed, or inaccurate. They should not be relied upon for investment
          or decision-making.
        </p>
      </div>

    </aside>

    <!-- MAIN -->
    <main class="flex-1 px-4 sm:px-6 lg:px-8 py-5 space-y-5" id="cc-export-root">

      <!-- HEADER -->
      <header class="flex flex-col md:flex-row md:items-center md:justify-between gap-3">
        <div class="space-y-1">
          <div class="text-xs uppercase tracking-[0.28em] text-neutral-500">
            Global Macro Dashboard
          </div>
          <div class="flex flex-wrap items-center gap-2 text-sm text-neutral-600">
            <span id="cc-country-current-label" class="font-semibold text-neutral-900">United States</span>
            <span class="text-neutral-400">·</span>
            <span id="cc-country-current-region" class="text-neutral-600">G-20 · DM</span>
            <span class="text-neutral-400">·</span>
            <span id="cc-data-as-of" class="text-neutral-500">latest: n/a</span>
          </div>
        </div>

        <div class="flex flex-wrap items-center gap-3">
          <!-- Country dropdown -->
          <div class="relative">
            <button
              id="cc-country-toggle"
              type="button"
              class="inline-flex items-center gap-2 h-10 px-4 rounded-xl bg-white border border-neutral-200 shadow-subtle text-sm text-neutral-900 hover:bg-cordobaSoft transition"
            >
              <span class="h-2 w-2 rounded-full bg-emerald-500" id="cc-country-dot"></span>
              <span data-cc-country-label>United States</span>
              <span class="text-[11px] text-neutral-500" data-cc-country-region>G-20 · DM</span>
              <span class="text-[11px] text-neutral-500">▼</span>
            </button>

            <div
              id="cc-country-menu"
              class="hidden absolute z-20 mt-1 w-64 rounded-xl border border-neutral-200 bg-white shadow-subtle text-sm max-h-72 overflow-y-auto"
            >
              <div class="px-3 py-2 text-[10px] uppercase tracking-[0.22em] text-neutral-500">G-20 · Developed</div>
              <button class="w-full text-left px-3 py-1.5 hover:bg-cordobaSoft" data-cc-country="US" data-cc-region="G-20 · DM">United States</button>
              <button class="w-full text-left px-3 py-1.5 hover:bg-cordobaSoft" data-cc-country="UK" data-cc-region="G-20 · DM">United Kingdom</button>
              <button class="w-full text-left px-3 py-1.5 hover:bg-cordobaSoft" data-cc-country="DE" data-cc-region="G-20 · DM">Germany</button>
              <button class="w-full text-left px-3 py-1.5 hover:bg-cordobaSoft" data-cc-country="FR" data-cc-region="G-20 · DM">France</button>
              <button class="w-full text-left px-3 py-1.5 hover:bg-cordobaSoft" data-cc-country="JP" data-cc-region="G-20 · DM">Japan</button>

              <div class="px-3 py-2 text-[10px] uppercase tracking-[0.22em] text-neutral-500">G-20 · Emerging</div>
              <button class="w-full text-left px-3 py-1.5 hover:bg-cordobaSoft" data-cc-country="CN" data-cc-region="G-20 · EM">China</button>
              <button class="w-full text-left px-3 py-1.5 hover:bg-cordobaSoft" data-cc-country="IN" data-cc-region="G-20 · EM">India</button>
              <button class="w-full text-left px-3 py-1.5 hover:bg-cordobaSoft" data-cc-country="BR" data-cc-region="G-20 · EM">Brazil</button>

              <div class="px-3 py-2 text-[10px] uppercase tracking-[0.22em] text-neutral-500">Central Asia</div>
              <button class="w-full text-left px-3 py-1.5 hover:bg-cordobaSoft" data-cc-country="KZ" data-cc-region="Central Asia · EM">Kazakhstan</button>
              <button class="w-full text-left px-3 py-1.5 hover:bg-cordobaSoft" data-cc-country="UZ" data-cc-region="Central Asia · EM">Uzbekistan</button>
              <button class="w-full text-left px-3 py-1.5 hover:bg-cordobaSoft" data-cc-country="KG" data-cc-region="Central Asia · EM">Kyrgyzstan</button>
              <button class="w-full text-left px-3 py-1.5 hover:bg-cordobaSoft" data-cc-country="TJ" data-cc-region="Central Asia · EM">Tajikistan</button>
              <button class="w-full text-left px-3 py-1.5 hover:bg-cordobaSoft" data-cc-country="TM" data-cc-region="Central Asia · EM">Turkmenistan</button>

              <div class="px-3 py-2 text-[10px] uppercase tracking-[0.22em] text-neutral-500">South Asia</div>
              <button class="w-full text-left px-3 py-1.5 hover:bg-cordobaSoft" data-cc-country="PK" data-cc-region="South Asia · EM">Pakistan</button>
              <button class="w-full text-left px-3 py-1.5 hover:bg-cordobaSoft" data-cc-country="BD" data-cc-region="South Asia · EM">Bangladesh</button>
              <button class="w-full text-left px-3 py-1.5 hover:bg-cordobaSoft" data-cc-country="LK" data-cc-region="South Asia · EM">Sri Lanka</button>

              <div class="px-3 py-2 text-[10px] uppercase tracking-[0.22em] text-neutral-500">South-East Asia</div>
              <button class="w-full text-left px-3 py-1.5 hover:bg-cordobaSoft" data-cc-country="ID" data-cc-region="South-East Asia · EM">Indonesia</button>
              <button class="w-full text-left px-3 py-1.5 hover:bg-cordobaSoft" data-cc-country="VN" data-cc-region="South-East Asia · EM">Vietnam</button>
              <button class="w-full text-left px-3 py-1.5 hover:bg-cordobaSoft" data-cc-country="MY" data-cc-region="South-East Asia · EM">Malaysia</button>
              <button class="w-full text-left px-3 py-1.5 hover:bg-cordobaSoft" data-cc-country="SG" data-cc-region="South-East Asia · DM">Singapore</button>
            </div>
          </div>

          <div class="flex items-center gap-2">
            <a href="https://cordobarg.com/gme-feedback/" target="_blank" rel="noopener noreferrer"
               class="inline-flex items-center justify-center h-10 px-4 rounded-xl bg-cordobaGold text-white text-sm font-medium shadow-subtle hover:opacity-90 transition">
              Feature Request
            </a>

            <a href="https://cordobarg.com/login/" target="_blank" rel="noopener noreferrer"
               class="inline-flex items-center justify-center h-10 px-4 rounded-xl bg-white border border-neutral-200 text-sm font-medium text-neutral-700 shadow-subtle hover:bg-cordobaSoft hover:text-neutral-900 transition">
              Login
            </a>
          </div>
        </div>
      </header>

      <!-- VIEW PANELS (SNAPSHOT + TABS) -->
      <section data-cc-view-panel="snapshot" class="space-y-5">
        <!-- ====== SNAPSHOT CONTENT (your dashboard) ====== -->
        <section class="grid grid-cols-1 lg:grid-cols-3 gap-4">
          <div class="lg:col-span-2 rounded-2xl border border-neutral-200 bg-white shadow-subtle px-4 py-4 flex flex-col gap-3">
            <div class="flex items-center justify-between">
              <div>
                <div class="text-[11px] uppercase tracking-[0.2em] text-neutral-500">Macro Regime</div>
                <div id="cc-regime-title" class="mt-1 text-sm font-semibold text-neutral-900">Loading regime...</div>
              </div>
              <div class="text-right">
                <div class="text-[11px] uppercase tracking-[0.18em] text-neutral-500">Data coverage</div>
                <div class="text-sm text-neutral-900">Filled: <span id="cc-regime-confidence">–</span></div>
              </div>
            </div>

            <p id="cc-regime-body" class="text-sm text-neutral-700 leading-relaxed">
              Pulling in latest macro data...
            </p>

            <div class="flex flex-wrap items-center gap-2 text-xs text-neutral-500">
              <span class="uppercase tracking-[0.18em] text-[10px]">Closest analogue periods:</span>
              <span id="cc-analogue-years" class="flex flex-wrap gap-1"></span>
            </div>

            <div class="flex flex-wrap items-center gap-2 text-xs text-neutral-500">
              <span class="uppercase tracking-[0.18em] text-[10px]">Risk flags:</span>
              <span id="cc-risk-flags" class="flex flex-wrap gap-1"></span>
            </div>

            <div class="mt-2">
              <div class="flex items-center justify-between">
                <span class="uppercase tracking-[0.18em] text-[10px] text-neutral-500">Market lens:</span>
                <span id="cc-market-lens-stamp" class="text-[10px] text-neutral-400"></span>
              </div>
              <div id="cc-market-lens" class="mt-2 flex flex-wrap gap-2"></div>
              <p id="cc-market-lens-note" class="mt-2 text-xs text-neutral-600 leading-relaxed"></p>
            </div>
          </div>

          <div class="rounded-2xl border border-neutral-200 bg-white shadow-subtle px-4 py-3 flex flex-col gap-3">
            <div class="text-[11px] uppercase tracking-[0.2em] text-neutral-500">Composite Engines</div>
            <div id="cc-engine-cards" class="grid grid-cols-2 gap-2 text-xs"></div>
          </div>
        </section>

        <!-- Decomposition -->
        <section class="rounded-2xl border border-neutral-200 bg-white shadow-subtle px-4 py-4">
          <div class="flex flex-col md:flex-row md:items-start md:justify-between gap-3">
            <div>
              <div class="text-[11px] uppercase tracking-[0.2em] text-neutral-500">
                Composite Engine Decomposition
              </div>
              <div class="text-sm text-neutral-700 mt-1">
                Each engine is a weighted combination of indicator z-scores. Z-scores are computed on a rolling history window, then mapped to a 10 to 90 score.
              </div>
            </div>
            <div class="text-[11px] text-neutral-500 md:text-right">
              Score mapping: score = round(50 + clamp(z, −2.5, 2.5) ÷ 2.5 × 40)
              <div class="text-[10px] text-neutral-400 mt-1">Heatmap shows direction and magnitude at a glance</div>
            </div>
          </div>

          <div class="mt-4 overflow-x-auto">
            <table class="min-w-full text-xs">
              <thead>
                <tr class="text-[11px] uppercase tracking-[0.16em] text-neutral-500 border-b border-neutral-200">
                  <th class="py-2 text-left">Engine</th>
                  <th class="py-2 text-left">Component</th>
                  <th class="py-2 text-right">Weight</th>
                  <th class="py-2 text-right">Z</th>
                  <th class="py-2 text-right">Contribution</th>
                  <th class="py-2 text-right">Engine Z</th>
                  <th class="py-2 text-right">Engine score</th>
                  <th class="py-2 text-left">Interpretation</th>
                </tr>
              </thead>
              <tbody id="cc-engine-breakdown" class="divide-y divide-neutral-100">
                <tr><td colspan="8" class="py-3 text-center text-neutral-400">Loading decomposition...</td></tr>
              </tbody>
            </table>
          </div>

          <div class="mt-3 text-[11px] text-neutral-500 leading-relaxed">
            Reading guide: positive heatmap means above its own history, negative means below. A strong engine score is not “good” by default, it is “unusual” relative to that country’s prior regime, which is usually what moves pricing.
          </div>
        </section>

        <!-- Heatmap -->
        <section class="rounded-2xl border border-neutral-200 bg-white shadow-subtle px-4 py-4">
          <div class="flex items-center justify-between">
            <div>
              <div class="text-[11px] uppercase tracking-[0.2em] text-neutral-500">Growth Engine Heatmap</div>
              <div class="text-sm text-neutral-700">Summary of what is elevated, what is normal, and what is likely to break first.</div>
            </div>
            <div class="text-[11px] text-neutral-500">Scale: z clamped to −2.5 to 2.5</div>
          </div>

          <div id="cc-meaningful-heatmap" class="mt-4 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3 text-xs">
            <div class="rounded-xl border border-neutral-200 bg-cordobaSoft px-3 py-3 text-neutral-500">Loading heatmap...</div>
          </div>

          <div class="mt-3 text-[11px] text-neutral-500 leading-relaxed">
            How to read: the cell colour intensity is the only point. It tells you what is unusual enough to matter, even if the level looks boring. That is usually where the market gets surprised.
          </div>
        </section>

        <!-- Implications + Stress -->
        <section class="grid grid-cols-1 xl:grid-cols-2 gap-4">

          <div class="rounded-2xl border border-neutral-200 bg-white shadow-subtle px-5 py-4">
            <div class="flex items-start justify-between gap-3">
              <div>
                <div class="text-[11px] uppercase tracking-[0.28em] text-neutral-500">Regime implication mapper</div>
                <div class="mt-2 text-base font-semibold text-neutral-900">
                  Conditional market implications derived from the current engine configuration
                </div>
                <div class="mt-1 text-xs text-neutral-600 leading-relaxed">
                  This does not forecast returns. It maps the most likely repricing channels given how unusual the macro backdrop is versus its own history.
                </div>
              </div>

              <div class="shrink-0 text-right">
                <div class="text-[10px] uppercase tracking-[0.2em] text-neutral-500">Signal quality</div>
                <div id="cc-implication-quality" class="mt-1 inline-flex items-center px-2.5 py-1 rounded-full border border-neutral-200 bg-cordobaSoft text-xs text-neutral-800">
                  Loading
                </div>
              </div>
            </div>

            <div class="mt-4 rounded-xl border border-neutral-200 bg-[#FFFCF9] px-4 py-3">
              <div class="flex items-center justify-between gap-3">
                <div class="text-[11px] uppercase tracking-[0.2em] text-neutral-500">Repricing channels, probability proxy</div>
                <div id="cc-implication-graphic-stamp" class="text-[10px] text-neutral-400"></div>
              </div>
              <div id="cc-implication-graphic" class="mt-3 grid grid-cols-2 gap-3"></div>
              <div class="mt-3 text-[11px] text-neutral-600 leading-relaxed">
                Bars are a simple proxy from engine tensions, they help prioritise what to monitor first.
              </div>
            </div>

            <div id="cc-implications" class="mt-4 space-y-2"></div>
          </div>

          <div class="rounded-2xl border border-neutral-200 bg-white shadow-subtle px-5 py-4">
            <div>
              <div class="text-[11px] uppercase tracking-[0.28em] text-neutral-500">
                Where would the first warning signs appear?
              </div>
              <div class="mt-2 text-base font-semibold text-neutral-900">
                Early warning checklist that tells you what to watch, and why
              </div>
              <div class="mt-1 text-xs text-neutral-600 leading-relaxed">
                Signals are derived from the weakest engines and the highest dispersion indicators.
              </div>
            </div>

            <div class="mt-4 rounded-xl border border-neutral-200 bg-[#FFFCF9] px-4 py-3">
              <div class="flex items-center justify-between gap-3">
                <div class="text-[11px] uppercase tracking-[0.2em] text-neutral-500">Failure map, which channel breaks first</div>
                <div id="cc-stress-graphic-stamp" class="text-[10px] text-neutral-400"></div>
              </div>

              <div id="cc-stress-graphic" class="mt-3 grid grid-cols-1 sm:grid-cols-2 gap-3"></div>

              <div class="mt-3 text-[11px] text-neutral-600 leading-relaxed">
                Each node is a monitoring lane. If two lanes flash together, treat the narrative as unstable.
              </div>
            </div>

            <div id="cc-stress" class="mt-4 space-y-2"></div>
          </div>

        </section>
      </section>

      <!-- OTHER VIEWS (REAL RENDER TARGETS) -->
      <section data-cc-view-panel="growth" class="hidden space-y-4">
        <section class="rounded-2xl border border-neutral-200 bg-white shadow-subtle px-5 py-5">
          <div class="text-[11px] uppercase tracking-[0.28em] text-neutral-500">Growth &amp; cycle</div>
          <div class="mt-2 text-2xl font-semibold text-neutral-900">Growth &amp; cycle view</div>
          <div id="cc-growth-root" class="mt-4"></div>
        </section>
      </section>

      <section data-cc-view-panel="inflation" class="hidden space-y-4">
        <section class="rounded-2xl border border-neutral-200 bg-white shadow-subtle px-5 py-5">
          <div class="text-[11px] uppercase tracking-[0.28em] text-neutral-500">Inflation lens</div>
          <div class="mt-2 text-2xl font-semibold text-neutral-900">Inflation lens view</div>
          <div id="cc-inflation-root" class="mt-4"></div>
        </section>
      </section>

      <section data-cc-view-panel="liquidity" class="hidden space-y-4">
        <section class="rounded-2xl border border-neutral-200 bg-white shadow-subtle px-5 py-5">
          <div class="text-[11px] uppercase tracking-[0.28em] text-neutral-500">Liquidity &amp; money</div>
          <div class="mt-2 text-2xl font-semibold text-neutral-900">Liquidity &amp; money view</div>
          <div id="cc-liquidity-root" class="mt-4"></div>
        </section>
      </section>

      <section data-cc-view-panel="external" class="hidden space-y-4">
        <section class="rounded-2xl border border-neutral-200 bg-white shadow-subtle px-5 py-5">
          <div class="text-[11px] uppercase tracking-[0.28em] text-neutral-500">External balance</div>
          <div class="mt-2 text-2xl font-semibold text-neutral-900">External balance view</div>
          <div id="cc-external-root" class="mt-4"></div>
        </section>
      </section>

      <!-- ALWAYS VISIBLE (THIS IS THE FIX) -->
      <section class="rounded-2xl border border-neutral-200 bg-white shadow-subtle px-4 py-4">
        <div class="grid grid-cols-1 xl:grid-cols-3 gap-4">

          <div class="xl:col-span-2 flex flex-col gap-3">
            <div class="flex items-center justify-between">
              <div>
                <div class="text-[11px] uppercase tracking-[0.2em] text-neutral-500">Analyst Note Helper</div>
                <div class="text-sm text-neutral-700">Draft macro commentary for the selected country</div>
              </div>
              <div class="text-[11px] text-neutral-500">Auto-generated from current engine configuration</div>
            </div>

            <div class="flex flex-wrap items-center gap-2 text-[11px]">
              <button id="cc-copy-note" type="button" class="px-3 py-1.5 rounded-full border border-neutral-200 bg-white hover:bg-cordobaSoft">Copy note</button>
              <button id="cc-copy-questions" type="button" class="px-3 py-1.5 rounded-full border border-neutral-200 bg-white hover:bg-cordobaSoft">Copy questions</button>
              <button id="cc-copy-implications" type="button" class="px-3 py-1.5 rounded-full border border-neutral-200 bg-white hover:bg-cordobaSoft">Copy implications</button>
              <button id="cc-export-png" type="button" class="px-3 py-1.5 rounded-full border border-neutral-200 bg-white hover:bg-cordobaSoft">Export PNG</button>
              <button id="cc-export-pdf" type="button" class="px-3 py-1.5 rounded-full border border-neutral-200 bg-white hover:bg-cordobaSoft">Export PDF</button>
              <span id="cc-workflow-status" class="text-neutral-400 ml-2"></span>
            </div>

            <textarea
              id="cc-note-draft"
              class="mt-2 w-full h-48 rounded-xl border border-neutral-200 bg-[#FFFCF9] px-3 py-2 text-xs leading-relaxed text-neutral-800 focus:outline-none focus:ring-1 focus:ring-cordobaGold focus:border-cordobaGold"
              placeholder="A short macro note will appear here once the data has loaded. You can edit freely before sending."
            ></textarea>

            <div class="mt-2">
              <div class="text-[11px] uppercase tracking-[0.18em] text-neutral-500 mb-1">Pointers to structure your note</div>
              <ul id="cc-note-bullets" class="list-disc list-inside space-y-1 text-xs text-neutral-700"></ul>
            </div>

            <div class="mt-4 rounded-xl border border-neutral-200 bg-[#FFFCF9] px-3 py-3">
              <div class="text-[11px] uppercase tracking-[0.18em] text-neutral-500 mb-1">Next 3 questions to ask</div>
              <ul id="cc-question-list" class="list-disc list-inside space-y-1 text-xs text-neutral-700"></ul>
            </div>
          </div>

          <div class="flex flex-col gap-3">
            <div>
              <div class="text-[11px] uppercase tracking-[0.2em] text-neutral-500">Cordoba Research Matches</div>
              <div class="text-sm text-neutral-700">Notes most relevant to this regime</div>
              <div class="text-[11px] text-neutral-600 mt-1">
                Suggested directly from the main Cordoba Capital site based on current engine scores.
              </div>
            </div>
            <div id="cc-research-list" class="mt-2 space-y-2 text-xs"></div>
            <div class="mt-2 text-[11px] text-neutral-500">
              Full library:&nbsp;
              <a href="https://cordobarg.com/insights/" target="_blank" rel="noopener noreferrer"
                 class="underline decoration-cordobaGold decoration-1 underline-offset-2">
                cordobarg.com/insights/
              </a>
            </div>
          </div>

        </div>
      </section>

    </main>
  </div>

  <footer class="border-t border-neutral-200 bg-white/95 backdrop-blur text-xs text-neutral-500">
    <div class="w-full px-4 sm:px-6 lg:px-8 py-3 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 text-left">
      <div class="flex flex-wrap items-center gap-2 text-left">
        <span>Global Macro Engine</span>
        <span class="text-neutral-400">·</span>
        <span>v0.3.0 (Beta)</span>
        <span class="text-neutral-400">·</span>
      </div>

      <div class="flex flex-wrap items-center gap-4 text-left sm:text-right">
        <a href="https://cordobarg.com" target="_blank" rel="noopener noreferrer" class="hover:text-neutral-900">
          Cordoba Research Group Website
        </a>

        <button id="cc-methodology-open" type="button" class="underline decoration-neutral-300 underline-offset-2 hover:text-neutral-900">
          Methodology &amp; data notes
        </button>
      </div>
    </div>
  </footer>

  <!-- Modal (kept) -->
  <div id="cc-methodology-modal" class="fixed inset-0 z-40 hidden">
    <div data-cc-methodology-overlay class="absolute inset-0 bg-black/30"></div>
    <div class="relative z-10 flex min-h-full items-end sm:items-center justify-center p-4">
      <div class="w-full max-w-lg rounded-2xl bg-white shadow-subtle border border-neutral-200 px-5 py-4">
        <div class="flex items-center justify-between mb-2">
          <div>
            <div class="text-[11px] uppercase tracking-[0.2em] text-neutral-500">Methodology &amp; Data Notes</div>
            <div class="text-sm text-neutral-800">How the engine builds scores and narratives</div>
          </div>
          <button id="cc-methodology-close" type="button" class="text-xs text-neutral-500 hover:text-neutral-800">
            Close
          </button>
        </div>
        <div class="text-xs text-neutral-700 space-y-2 max-h-80 overflow-y-auto pr-1">
          <p>1. <span class="font-semibold">Data frequency.</span> Mixed; this demo uses synthetic histories so the UI behaves consistently across tabs.</p>
          <p>2. <span class="font-semibold">History window.</span> Rolling window (up to last 20 obs).</p>
          <p>3. <span class="font-semibold">Standardisation.</span> z = (latest − mean) / stdev.</p>
          <p>4. <span class="font-semibold">Composite engines.</span> Weighted z averages, mapped to a 10–90 score.</p>
          <p class="text-[11px] text-neutral-500">This tool is for internal and educational use only and does not constitute investment advice.</p>
        </div>
      </div>
    </div>
  </div>

  <!-- libs needed by export buttons -->
  <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

  <!-- ✅ REQUIRED: load quant module FIRST, then main -->
  <script src="assets/js/cc_growth_cycle_quant.js"></script>
  <script src="assets/js/main.js"></script>

  <!-- ✅ Safety net: if main.js does NOT implement panel switching, this will -->
  <script>
    (function () {
      const nav = document.getElementById("cc-views-nav");
      if (!nav) return;

      const links = Array.from(nav.querySelectorAll(".cc-view-link"));
      const panels = Array.from(document.querySelectorAll("[data-cc-view-panel]"));

      function setActive(view) {
        panels.forEach(p => p.classList.toggle("hidden", p.getAttribute("data-cc-view-panel") !== view));
        links.forEach(a => {
          const active = a.getAttribute("data-view") === view;
          a.classList.toggle("bg-cordobaSoft", active);
          a.classList.toggle("hover:bg-cordobaSoft", !active);
          const live = a.querySelector(".cc-live-pill");
          if (live) live.classList.toggle("hidden", !active);
        });
      }

      nav.addEventListener("click", (e) => {
        const a = e.target.closest(".cc-view-link");
        if (!a) return;
        e.preventDefault();
        const view = a.getAttribute("data-view");
        if (!view) return;
        setActive(view);
      });

      // default
      setActive("snapshot");
    })();
  </script>
</body>
</html>
